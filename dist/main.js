!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o=function(){var e=document.querySelector(".club-select"),t=e.querySelector("ul");document.addEventListener("click",(function(n){var o=n.target;o.closest(".club-select")&&!o.closest(".active-club")?(e.classList.add("active-club"),t.style.display="block"):(e.classList.remove("active-club"),t.style.display="none")}))},r=function(){var e=document.querySelector(".open-popup"),t=document.querySelectorAll(".head-main .callback-btn"),n=document.querySelector(".fixed-gift"),o=document.querySelectorAll(".popup"),r=function(e){e.preventDefault();var t=e.target.dataset.popup,n=document.querySelector(t),o=n.querySelector("form"),r=n.querySelector(".status");n.style.display="block",o.style.display="block",r&&r.remove()},c=function(e){var t=e.target;(t.matches(".overlay")||t.matches(".close_icon")||t.matches(".close-btn"))&&(t.closest(".popup").style.display="none")};e.addEventListener("click",r),t.forEach((function(e){e.addEventListener("click",r)})),o.forEach((function(e){e.addEventListener("click",c)})),n&&n.addEventListener("click",(function(){document.querySelector("#gift").style.display="block",n.remove()}))};var c=function(e,t){var n=e[t];n.style.opacity=0,setTimeout((function(){n.style.display="none"}),500)},l=function(e,t,n){var o=e[t];o.style.opacity=0,setTimeout((function(){o.style.display=n}),500),setTimeout((function(){o.style.opacity=1}),600)},a=function(e,t){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,r=0,a=e.querySelectorAll(".slide"),i=e.querySelectorAll(".dot");a.forEach((function(e,t){e.style.transition="0.5s",t>0&&(e.style.display="none")}));var s=function(e,t,n){c(e,r),n.length&&n[r].classList.remove("slick-active"),++r>=e.length&&(r=0),l(e,r,t),n.length&&n[r].classList.add("slick-active")},u=function(){n=setInterval((function(){s(a,t,i)}),o)},d=function(){clearInterval(n)};e.addEventListener("click",(function(e){var n=e.target;console.log("target: ",n),(n.closest(".dot")||n.closest(".slider-arrow"))&&(c(a,r),i.length&&i[r].classList.remove("slick-active"),n.closest(".next")?r++:n.closest(".prev")?r--:n.closest(".dot")&&i.forEach((function(e,t){e===n.closest(".dot")&&(r=t)})),r>=a.length&&(r=0),r<0&&(r=a.length-1),l(a,r,t),i.length&&i[r].classList.add("slick-active"))})),e.addEventListener("mouseover",(function(e){(e.target.closest(".dot")||e.target.closest(".slider-arrow"))&&d()})),e.addEventListener("mouseout",(function(e){(e.target.closest(".dot")||e.target.closest(".slider-arrow"))&&u()})),u()},i=function(){var e=document.querySelector(".main-slider"),t=document.querySelector(".gallery-slider");document.querySelector(".services-slider");a(e,"flex"),function(e){e.style.position="relative";var t=document.createElement("img"),n=document.createElement("span"),o=document.createElement("div");n.appendChild(t),o.appendChild(n),o.classList.add("slider-arrow");var r=o.cloneNode(!0),c=o.cloneNode(!0);r.classList.add("next"),c.classList.add("prev");var l=c.querySelector("img"),a=r.querySelector("img");l.src="images/arrow-left.png",a.src="images/arrow-right.png",e.appendChild(r),e.appendChild(c)}(t),function(e){var t=e.querySelectorAll(".slide"),n=document.createElement("ul");n.classList.add("slider-dots");for(var o=0;o<t.length;o++){var r=document.createElement("li"),c=document.createElement("button");r.classList.add("dot"),0===o&&r.classList.add("slick-active"),r.appendChild(c),n.appendChild(r)}e.appendChild(n)}(t),a(t,"block")},s=function(){var e=document.getElementById("totop"),t=document.querySelector(".header-main").offsetHeight;e.style.opacity=0,e.style.transition="0.5s",window.addEventListener("scroll",(function(){window.pageYOffset>=t?e.style.opacity=1:e.style.opacity=0})),e.addEventListener("click",(function(e){e.preventDefault();!function e(){window.scrollBy(0,-100),window.pageYOffset>0&&requestAnimationFrame(e)}()}))},u=function(){var e=document.querySelector(".menu-button"),t=document.querySelector(".popup-menu"),n=document.querySelector(".top-menu"),o=n.offsetHeight,r=n.querySelectorAll(".scroll a"),c=document.querySelector(".head").offsetHeight;e.addEventListener("click",(function(){t.style.display="flex"})),t.addEventListener("click",(function(e){var n=e.target;(n.closest(".close-menu-btn")||n.closest(".scroll"))&&(t.style.display="none")})),window.addEventListener("scroll",(function(){window.pageYOffset>=c?n.style.position="fixed":n.style.position="static"}));r.forEach((function(e){return e.addEventListener("click",(function(e){var t,n,r;e.preventDefault(),t=e.target,n=t.getAttribute("href"),r=document.querySelector(n).offsetTop-o,window.pageYOffset<r?function e(){window.scrollBy(0,50),window.pageYOffset<r&&requestAnimationFrame(e)}():function e(){window.scrollBy(0,-50),window.pageYOffset>r&&requestAnimationFrame(e)}()}))}));var l=function(){screen.width<768?e.classList.remove("hidden-large"):e.matches(".hidden-large")||e.classList.add("hidden-large")};l(),window.addEventListener("resize",l)},d=function(){var e=document.getElementById("card_order"),t=document.getElementById("price-total"),n=e.querySelector(".price input"),o="1",r="mozaika",c=!1;if(t){e.addEventListener("click",(function(e){var t=e.target;t.matches("input")&&t.closest(".time")?o=t.value:t.matches("input")&&t.closest(".club")&&(r=t.value),l(o,r,c)})),n.addEventListener("input",(function(){c="ТЕЛО2019"===n.value,l(o,r,c)}));var l=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mozaika",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("mozaika"===o)switch(n){case"1":e=1999;break;case"6":e=9900;break;case"9":e=13900;break;case"12":e=19900}else if("schelkovo"===o)switch(n){case"1":e=2999;break;case"6":e=14990;break;case"9":e=21990;break;case"12":e=24990}r&&(e*=.7),t.textContent=Math.ceil(e)};l()}},f=function(){var e=document.getElementById("form1"),t=document.getElementById("form2"),n=document.getElementById("banner-form"),o=document.getElementById("card_order"),r=document.getElementById("footer_form"),c=function(e){var t=0,n=e.querySelectorAll("input"),o=document.createElement("div");o.classList.add("error"),e.appendChild(o),e.addEventListener("input",(function(e){var n=e.target;if(n.matches('input[type="text"]'))n.value=n.value.replace(/[^а-я!]/gi,"");else if(n.matches('input[type="tel"]')){var o=n.value.length;if(n.value=n.value.replace(/[^\+\d)(-]/,""),o<t)return void t--;1===o&&(n.value="+"+n.value+"("),6===o&&(n.value=n.value+")"),10===o&&(n.value=n.value+"-"),13===o&&(n.value=n.value+"-"),o>16&&(n.value=n.value.substring(0,n.value.length-1)),t++}}));var r=function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:e})};e.addEventListener("submit",(function(t){t.preventDefault();var c,l=new FormData(e),a=function(){var t=document.createElement("div");t.classList.add("status"),t.textContent="Загрузка...",e.style.display="none",e.closest(".form-content").appendChild(t),r(l).then((function(e){if(200!==e.status)throw new Error("status network not 200");t.textContent="Спасибо! Мы скоро с вами свяжемся",n.forEach((function(e){e.value=""}))})).catch((function(){t.textContent="Что-то пошло не так..."}))},i=function(){var e=document.getElementById("thanks"),t=e.querySelector("p");r(l).then((function(o){if(200!==o.status)throw new Error("status network not 200");e.style.display="block",t.innerHTML="Ваша заявка отправлена. <br> Мы свяжемся с вами в ближайшее время",n.forEach((function(e){e.value=""}))})).catch((function(){e.style.display="block",t.innerHTML="Что-то пошло не так"}))};e.matches("#footer_form")?(e.querySelectorAll(".club input").forEach((function(e){e.check||(c=1)})),1===c?o.textContent="необходимо выбрать клуб":(o.textContent="",t.target.closest(".popup")?a():i())):e.querySelector(".personal-data").querySelector("input").checked?(o.textContent="",t.target.closest(".popup")?a():i()):o.textContent="необходимо подтвердить согласие"}))};c(e),c(t),c(n),c(o),c(r)};o(),r(),i(),s(),u(),d(),f()}]);